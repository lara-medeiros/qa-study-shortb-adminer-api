meta {
  name: cadastro de usu치rio
  type: http
  seq: 1
}

post {
  url: {{baseUrl}}/api/auth/register
  body: json
  auth: inherit
}

body:json {
  {
    "name": "Erick",
    "email": "testeerick@example.com",
    "password": "123456"
  }
}

settings {
  encodeUrl: true
}

docs {
  # Endpoint de Cadastro
  Este endpoint realiza o cadastro de novos usu치rios para uma aplica칞칚o de encurtador de URLs, para permitir que um usu치rio consiga criar e gerenciar urls encurtadas e personalizadas.
  
  ## Parametros
  - name: nome do usu치rio (m치ximo de 255 caracteres)
  - email: email do usu치rio (m치ximo de 255 caracteres)
  - password: senha do usu치rio (m치ximo de 255 caracteres)
  
  ## Casos de Testes
  
  - Cadastro sem payload 游
  
  request
  ```
  {}
  ```
  response
  ```
  {
    "message": "Dados inv치lidos ou erro desconhecido."
  }
  ```
  
  - Cadastro de um novo usu치rio 游
  
  request
  ```
  {
    "name": "Lara",
    "email": "laramedeiros695@gmail.com",
    "password": "123456"
  }
  ```
  response
  ```
  {
    "message": "Usu치rio cadastrado com sucesso!",
    "user": {
      "id": "01K6T0MQFJ98N3YJPR2DGY5AV8",
      "name": "Lara",
      "email": "laramedeiros695@gmail.com"
    }
  }
  ```
  
  - Cadastro com uma senha inv치lida 游
  
  request
  ```
  {
    "name": "Lara",
    "email": "laramedeiros695+senha-invalida@gmail.com",
    "password": "123"
  }
  ```
  response
  ```
  {
    "message": "O campo 'Password' deve ter no m칤nimo 6 caracteres"
  }
  ```
  
  - Cadastro com um email inv치lido 游
  
  request
  ```
  {
    "name": "Lara",
    "email": "invalid-email",
    "password": "123456"
  }
  ```
  response
  ```
  {
    "message": "O campo 'Email' deve ser um email v치lido"
  }
  ```
  
  - Cadastro sem inserir 'nome' do usu치rio 游
  
  request
  ```
  {
    "email": "laramedeiros695+sem-nome@gmail.com",
    "password": "123456"
  }
  ```
  response
  ```
  {
    "message": "O campo 'Name' 칠 obrigat칩rio"
  }
  ```
  - Cadastro sem o 'email' e 'senha' sem ser informado 游
  
  request
  ```
  {
    "name": "Lara"
  }
  ```
  response
  ```
  {
    "message": "O campo 'Email' 칠 obrigat칩rio"
  }
  ```
  
  - Cadastro sem a 'senha' ser informado 游
  
  request
  ```
  {
    "name": "Lara",
    "email": "laramedeiros695@gmail.com"
  }
  ```
  response
  ```
  {
    "message": "O campo 'Password' 칠 obrigat칩rio"
  }
  ```
  
  - Cadastro com um 'email' j치 cadastrado (existente) 游
  
  request
  ```
  {
    "name": "Lara",
    "email": "laramedeiros695@gmail.com",
    "password": "123456"
  }
  ```
  response
  ```
  {
    "message": "Este e-mail j치 est치 em uso. Por favor, tente outro."
  }
  ```
  
  - Cadastro com um 'email' que utilize um 'alias' 游
  
  request
  ```
  {
    "name": "Lara Alias",
    "email": "laramedeiros695+alias@gmail.com",
    "password": "123456"
  }
  ```
  response
  ```
  {
    "message": "Usu치rio cadastrado com sucesso!",
    "user": {
      "id": "01K6T407CEE37H2V8ZCQS0XTY0",
      "name": "Lara Alias",
      "email": "laramedeiros695+alias@gmail.com"
    }
  }
  ```
  
  - Cadastro com email excedendo o limite de caracteres (255) 游
  
  request
  ```
  {
    "name": "Lara",
    "email": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com",
    "password": "123456"
  }
  ```
  response
  ```
  {
    "message": "erro ao criar usu치rio"
  }
  ```
  
  - Cadastro com senha excedendo o limite de caracteres (255) 游
  
  request
  ```
  {
    "name": "Lara",
    "email": "laramedeiros695+senha-muito-longa@gmail.com",
    "password": "ppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppp"
  }
  ```
  response
  ```
  {
    "message": "erro ao processar senha"
  }
  ```
  
  - Cadastro utilizando um email tempor치rio 游
  
  request
  ```
  {
    "name": "Lara",
    "email": "lara_test@mailinator.com",
    "password": "123456"
  }
  ```
  response
  ```
  {
    "message": "Usu치rio cadastrado com sucesso!",
    "user": {
      "id": "01K6T45VEZ71R8ATJ9CDK577S4",
      "name": "Lara",
      "email": "lara_test@mailinator.com"
    }
  }
  ```
}
